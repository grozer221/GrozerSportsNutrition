(this["webpackJsonpreact-client"]=this["webpackJsonpreact-client"]||[]).push([[0],{168:function(e,t,n){e.exports={layout:"AdminLayout_layout__3Urpo",content:"AdminLayout_content__3Vxtf",siteLayoutBackground:"AdminLayout_siteLayoutBackground__3DuLp"}},179:function(e,t,n){e.exports={inputId:"ProductUpdate_inputId__d26CZ"}},181:function(e,t,n){e.exports={inputId:"FilesUpdate_inputId__13bMz"}},206:function(e,t,n){e.exports={wrapper_svg:"Loading_wrapper_svg__34QF_"}},210:function(e,t,n){e.exports={logo:"AppMenu_logo__2s0i4"}},211:function(e,t,n){e.exports={wrapperHeader:"AppHeader_wrapperHeader__xXvM-"}},216:function(e,t,n){e.exports={product:"ProductsIndex_product__2CaA3"}},220:function(e,t,n){e.exports={labelFile:"FilesCreate_labelFile__3vTUb"}},221:function(e,t,n){e.exports={card:"FilesView_card__370KY"}},243:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var a,c,r,i,s,o,j,l,d,u,b,O,m=n(0),p=n.n(m),x=n(36),h=n.n(x),f=n(31),g=(n(243),n(244),n(25)),v=n(22),I=n(4),y=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(v.b,{to:"/admin",children:"AdminArea"}),Object(I.jsxs)(g.d,{children:[Object(I.jsx)(g.b,{path:"/",element:Object(I.jsx)("div",{children:"client layout"})}),Object(I.jsx)(g.b,{path:"users/*",element:Object(I.jsx)(_,{})}),Object(I.jsx)(g.b,{path:"*",element:Object(I.jsx)("div",{children:"Client Error"})})]})]})},_=function(){return Object(I.jsxs)(g.d,{children:[Object(I.jsx)(g.b,{path:"/",element:Object(I.jsx)("div",{children:"client users"})}),Object(I.jsx)(g.b,{path:":id",element:Object(I.jsx)("div",{children:"client user"})})]})},w=n(365),F=n(42),P=n(361),N=Object(P.a)(a||(a=Object(F.a)(["\n    query Me {\n        me {\n            user {\n                id\n                email\n                firstName\n                lastName\n                roles {\n                    id\n                    name\n                }\n            }\n            accessToken\n        }\n    }\n\n"]))),k=n(52),U=n(24),S=n.n(U),L=n(35),R=n(48),C={authData:null,isAuth:!1},A=function(e,t){return{type:"SET_AUTH_DATA",payload:{authData:e,isAuth:t}}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_DATA":return Object(R.a)(Object(R.a)({},e),t.payload);default:return e}},z=n(206),T=n.n(z),$=n(207),V=function(){return Object(I.jsx)("div",{className:T.a.wrapper_svg,children:Object(I.jsx)($.a,{size:"large"})})},q=function(e){return e.auth.authData},D=function(e){return e.auth.isAuth},M=n(349),H=n(79),B=n(369),G=n(370),Q=n(371),X=n(372),Z=n(373),J=n(374),K=n(375),Y=n(210),W=n.n(Y),ee=M.a.Sider,te=H.a.SubMenu,ne=function(){var e=Object(m.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(I.jsxs)(ee,{collapsible:!0,collapsed:n,onCollapse:a,children:[Object(I.jsx)("div",{className:W.a.logo}),Object(I.jsxs)(H.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(I.jsx)(H.a.Item,{icon:Object(I.jsx)(B.a,{}),children:Object(I.jsx)(v.b,{to:"/admin",children:"Home"})},"10"),Object(I.jsx)(H.a.Item,{icon:Object(I.jsx)(G.a,{}),children:Object(I.jsx)(v.b,{to:"/admin/products",children:"Products"})},"20"),Object(I.jsx)(H.a.Item,{icon:Object(I.jsx)(Q.a,{}),children:Object(I.jsx)(v.b,{to:"/admin/categories",children:"Categories"})},"30"),Object(I.jsx)(H.a.Item,{icon:Object(I.jsx)(X.a,{}),children:Object(I.jsx)(v.b,{to:"/admin/files",children:"Files"})},"40"),Object(I.jsxs)(te,{icon:Object(I.jsx)(Z.a,{}),title:"Users",children:[Object(I.jsx)(H.a.Item,{children:Object(I.jsx)(v.b,{to:"/admin/users",children:"Customers"})},"50"),Object(I.jsx)(H.a.Item,{children:Object(I.jsx)(v.b,{to:"/admin/users",children:"Employees"})},"60")]},"sub1"),Object(I.jsx)(H.a.Item,{icon:Object(I.jsx)(J.a,{}),children:"Settings"},"70"),Object(I.jsx)(H.a.Item,{icon:Object(I.jsx)(K.a,{}),children:Object(I.jsx)(v.b,{to:"/",children:"Client site"})},"80")]})]})},ae=n(151),ce=n(211),re=n.n(ce),ie=n(117),se=M.a.Header,oe=function(){var e=Object(k.c)(q),t=Object(k.b)(),n=Object(I.jsxs)(H.a,{children:[Object(I.jsx)(H.a.Item,{children:Object(I.jsx)(v.b,{to:"",children:"1st menu item"})}),Object(I.jsx)(H.a.Item,{onClick:function(){return t(function(){var e=Object(L.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),t(A(null,!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]});return Object(I.jsxs)(se,{className:re.a.wrapperHeader,children:[Object(I.jsx)("div",{}),Object(I.jsx)(ae.a,{overlay:n,placement:"topRight",children:Object(I.jsxs)("div",{children:[Object(I.jsxs)("span",{children:[e.user.firstName," ",e.user.lastName]}),Object(I.jsx)(ie.a,{})]})})]})},je=n(366),le=function(){var e=Object(g.f)().pathname.split("/");return e=e.filter(Boolean),Object(I.jsx)(je.a,{children:e.map((function(e,t){return Object(I.jsx)(je.a.Item,{children:e},t)}))})},de=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{children:"HOME"}),Object(I.jsx)(v.b,{to:"/",children:"client site"})]})},ue=Object(P.a)(c||(c=Object(F.a)(["\n    query GetUsers($getUsersInput: GetUsersInput!){\n        getUsers(getUsersInput: $getUsersInput){\n            id\n            email\n            firstName\n            lastName\n            roles{\n                id\n                name\n            }\n        }\n    }\n"]))),be=function(){console.log("UsersIndex");var e=Object(w.a)(ue,{variables:{getUsersInput:{skip:0,take:5}}}),t=e.loading,n=e.error,a=e.data;return t?Object(I.jsx)(V,{}):(n&&console.log(n),Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("ul",{children:null===a||void 0===a?void 0:a.getUsers.map((function(e){return Object(I.jsxs)("li",{children:[Object(I.jsx)("div",{children:e.email}),Object(I.jsx)("div",{children:e.firstName}),Object(I.jsx)("div",{children:e.lastName}),Object(I.jsx)("ul",{children:e.roles.map((function(e){return Object(I.jsx)("li",{children:e.name},e.id)}))})]},e.id)}))})}))},Oe=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{children:"Error"}),Object(I.jsx)(v.b,{to:"/",children:"Go home"})]})},me=function(){return console.log("UsersController"),Object(I.jsxs)(g.d,{children:[Object(I.jsx)(g.b,{path:"/",element:Object(I.jsx)(be,{})}),Object(I.jsx)(g.b,{path:":id",element:Object(I.jsx)("div",{children:"user"})}),Object(I.jsx)(g.b,{path:"add",element:Object(I.jsx)("div",{children:"add user"})}),Object(I.jsx)(g.b,{path:"*",element:Object(I.jsx)(Oe,{})})]})},pe=n(168),xe=n.n(pe),he=n(367),fe=n(360),ge=n(357),ve=n(362),Ie=n(47),ye=Object(P.a)(r||(r=Object(F.a)(["\n    mutation CreateProduct($createProductInput: CreateProductInput!){\n        createProduct(createProductInput: $createProductInput){\n            id\n            name\n        }\n    }\n"]))),_e=Object(P.a)(i||(i=Object(F.a)(["\n    mutation UpdateProduct($updateProductInput: UpdateProductInput!){\n        updateProduct(updateProductInput: $updateProductInput){\n            id\n            name\n        }\n    }\n"]))),we=Object(P.a)(s||(s=Object(F.a)(["\n    mutation RemoveProduct($id: Int!){\n        removeProduct(id: $id)\n    }\n"]))),Fe=n(223),Pe=function(){var e=Object(he.a)(ye),t=Object(f.a)(e,2),n=t[0],a=t[1].loading,c=Object(g.g)(),r=function(){var e=Object(L.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form: ",t),e.next=3,n({variables:{createProductInput:Object(R.a)({},t)}});case 3:a=e.sent,console.log(a),a.data&&!a.errors?c(".."):console.log("error:",a.errors);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=Object(m.useState)([{uid:"-1",name:"image.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]),s=Object(f.a)(i,2),o=s[0],j=s[1],l=function(){var e=Object(L.a)(S.a.mark((function e(t){var n,a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var n=new FileReader;n.readAsDataURL(t.originFileObj),n.onload=function(){return e(n.result)}}));case 4:n=e.sent;case 5:(a=new Image).src=n,null===(c=window.open(n))||void 0===c||c.document.write(a.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(fe.a,{name:"createProduct",onFinish:r,children:[Object(I.jsx)(Fe.a,{rotate:!0,children:Object(I.jsx)(ge.a,{action:window.location.protocol+"//"+window.location.host+"/api/files/upload",listType:"picture-card",fileList:o,onChange:function(e){j(e.fileList)},onPreview:l,maxCount:20,children:o.length<5&&"+ Upload"})}),Object(I.jsx)(fe.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input product name"}],children:Object(I.jsx)(ve.a,{placeholder:"Product name"})}),Object(I.jsx)(fe.a.Item,{children:Object(I.jsx)(Ie.a,{type:"primary",htmlType:"submit",loading:a,children:"Create"})})]})},Ne=Object(P.a)(o||(o=Object(F.a)(["\n    query GetProducts($getProductsInput: GetProductsInput!){\n        getProducts(getProductsInput: $getProductsInput){\n            id\n            name\n        }\n    }\n"]))),ke=Object(P.a)(j||(j=Object(F.a)(["\n    query GetProduct($id: Int!){\n        getProduct(id: $id){\n            id\n            name\n        }\n    }\n"]))),Ue=n(216),Se=n.n(Ue),Le=function(){var e=Object(w.a)(Ne,{variables:{getProductsInput:{skip:0,take:10}}}),t=e.loading,n=e.error,a=e.data,c=Object(m.useState)(!1),r=Object(f.a)(c,2),i=(r[0],r[1],Object(m.useState)(null)),s=Object(f.a)(i,2);s[0],s[1];return t?Object(I.jsx)(V,{}):(n&&console.log(n),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(v.b,{to:"create",children:Object(I.jsx)(Ie.a,{children:"Create"})}),Object(I.jsx)("ul",{children:null===a||void 0===a?void 0:a.getProducts.map((function(e){return Object(I.jsxs)("li",{className:Se.a.product,children:[Object(I.jsx)("div",{children:Object(I.jsx)("div",{children:e.name})}),Object(I.jsxs)("div",{children:[Object(I.jsx)(v.b,{to:"../".concat(e.id),children:Object(I.jsx)(Ie.a,{type:"default",children:"View"})}),Object(I.jsx)(v.b,{to:"update/".concat(e.id),children:Object(I.jsx)(Ie.a,{type:"ghost",children:"Update"})}),Object(I.jsx)(v.b,{to:"remove/".concat(e.id),children:Object(I.jsx)(Ie.a,{type:"primary",children:"Remove"})})]})]},e.id)}))})]}))},Re=n(179),Ce=n.n(Re),Ae=function(){var e=Object(g.h)(),t=Object(w.a)(ke,{variables:{id:e.id?parseInt(e.id):0}}),n=t.loading,a=t.error,c=t.data,r=Object(he.a)(_e),i=Object(f.a)(r,1)[0],s=Object(g.g)();if(!e.id)return Object(I.jsx)(g.a,{to:"../../error"});if(n)return Object(I.jsx)(V,{});a&&console.log(a);var o=function(){var e=Object(L.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form: ",t),e.next=3,i({variables:{updateProductInput:Object(R.a)({},t)}});case 3:n=e.sent,console.log(n),n.data&&!n.errors?s(".."):console.log("error:",n.errors);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(fe.a,{name:"createProduct",onFinish:o,initialValues:{id:null===c||void 0===c?void 0:c.getProduct.id,name:null===c||void 0===c?void 0:c.getProduct.name},children:[Object(I.jsx)(fe.a.Item,{name:"id",className:Ce.a.inputId,children:Object(I.jsx)(ve.a,{type:"hidden",className:Ce.a.inputId})}),Object(I.jsx)(fe.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input product name"}],children:Object(I.jsx)(ve.a,{placeholder:"Product name"})}),Object(I.jsx)(fe.a.Item,{children:Object(I.jsx)(Ie.a,{type:"primary",htmlType:"submit",children:"Update"})})]})},Ee=function(){var e=Object(g.h)(),t=Object(w.a)(ke,{variables:{id:e.id?parseInt(e.id):0}}),n=t.loading,a=t.error,c=t.data;return e.id?n?Object(I.jsx)(V,{}):(a&&console.log(a),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{children:["id: ",null===c||void 0===c?void 0:c.getProduct.id]}),Object(I.jsxs)("div",{children:["name: ",null===c||void 0===c?void 0:c.getProduct.name]})]})):Object(I.jsx)(g.a,{to:"../../error"})},ze=function(){var e=Object(g.h)(),t=Object(he.a)(we),n=Object(f.a)(t,2),a=n[0],c=n[1].loading,r=Object(g.g)();if(!e||!e.id)return Object(I.jsx)(g.a,{to:"../../error"});var i=function(){var t=Object(L.a)(S.a.mark((function t(){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({variables:{id:parseInt(e.id)}});case 2:(n=t.sent).data?r(".."):console.log(n.errors);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ee,{}),Object(I.jsx)(Ie.a,{onClick:i,loading:c,children:"Remove"})]})},Te=function(){return Object(I.jsxs)(g.d,{children:[Object(I.jsx)(g.b,{path:"/",element:Object(I.jsx)(Le,{})}),Object(I.jsx)(g.b,{path:":id",element:Object(I.jsx)(Ee,{})}),Object(I.jsx)(g.b,{path:"create",element:Object(I.jsx)(Pe,{})}),Object(I.jsx)(g.b,{path:"update/:id",element:Object(I.jsx)(Ae,{})}),Object(I.jsx)(g.b,{path:"remove/:id",element:Object(I.jsx)(ze,{})}),Object(I.jsx)(g.b,{path:"*",element:Object(I.jsx)(Oe,{})})]})},$e=function(){return Object(I.jsx)("div",{children:"Categories"})},Ve=function(){return Object(I.jsxs)(g.d,{children:[Object(I.jsx)(g.b,{path:"/",element:Object(I.jsx)($e,{})}),Object(I.jsx)(g.b,{path:"*",element:Object(I.jsx)(Oe,{})})]})},qe=n(182),De=n(364),Me=Object(P.a)(l||(l=Object(F.a)(["\n    mutation CreateFile($createFileInput: CreateFileInput!) {\n        createFile(createFileInput: $createFileInput) {\n            id\n        }\n    }\n"]))),He=Object(P.a)(d||(d=Object(F.a)(["\n    mutation RemoveFile($id: Int!){\n        removeFile(id: $id)\n    }\n"]))),Be=n(356),Ge=n(230),Qe=n(217),Xe=n.n(Qe).a.create({baseURL:"http://localhost:3001/api/"}),Ze="http://localhost:3001/",Je=function(e){var t=e.loading,n=e.files,a=e.setFiles,c=[{title:"Image",key:"image",render:function(e,t){var n=t.type.match(/image/);return Object(I.jsx)(De.a,{shape:"square",size:48,src:n&&n.length?URL.createObjectURL(t):Ze+"static/images/file.png",alt:t.name})}},{title:"Name",dataIndex:"name",key:"name"},{title:"Size",dataIndex:"size",key:"size"},{title:"Actions",key:"actions",render:function(e,t){return Object(I.jsx)("div",{className:"buttonRemove",onClick:function(){return e=t,n=n.filter((function(t){return t!==e})),void a(n);var e},children:Object(I.jsx)(De.a,{size:28,icon:Object(I.jsx)(Ge.a,{})})})}}];return Object(I.jsx)(Be.a,{columns:c,dataSource:n,pagination:!1,loading:t})},Ke=n(231),Ye=n(220),We=n.n(Ye),et=function(e){var t=new FormData;return e.forEach((function(e,n){t.append("files[]",e)})),Xe.post("files/upload",t,{headers:{"Content-Type":"multipart-form-data"}}).then((function(e){return e.data}))},tt={loading:!1,uploadedFiles:[]},nt=function(e){return{type:"SET_LOADING",loading:e}},at=function(e){return{type:"SET_UPLOADED_FILES",uploadedFiles:e}},ct=function(e){return function(){var t=Object(L.a)(S.a.mark((function t(n){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et(e);case 2:!0===(a=t.sent).result&&(n(at(a.files)),n(nt(!1)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return Object(R.a)(Object(R.a)({},e),{},{loading:t.loading});case"SET_UPLOADED_FILES":return Object(R.a)(Object(R.a)({},e),{},{uploadedFiles:t.uploadedFiles});default:return e}},it=function(e){return e.files.loading},st=function(e){return e.files.uploadedFiles},ot=function(){var e=Object(k.b)(),t=Object(he.a)(Me),n=Object(f.a)(t,2),a=n[0],c=n[1].loading,r=Object(g.g)(),i=Object(m.useState)([]),s=Object(f.a)(i,2),o=s[0],j=s[1],l=Object(k.c)(st),d=Object(k.c)(it);Object(m.useEffect)((function(){l.length&&(l.forEach(function(){var e=Object(L.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upload file: ",t),e.next=3,a({variables:{createFileInput:Object(R.a)({},t)}});case 3:(n=e.sent).errors&&console.log(n.errors);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(at([])),r(".."))}),[l]);var u=function(){var t=Object(L.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.length&&(e(nt(!0)),e(ct(o)));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log(o),Object(I.jsxs)(fe.a,{name:"createFile",onFinish:u,children:[Object(I.jsxs)(fe.a.Item,{children:[Object(I.jsx)("input",{type:"file",id:"file",multiple:!0,style:{display:"none"},onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&(o&&o.length>0?j([].concat(Object(qe.a)(Array.from(o)),Object(qe.a)(Array.from(e.target.files)))):j(Array.from(e.target.files)))}}),Object(I.jsx)("label",{className:We.a.labelFile,htmlFor:"file",children:Object(I.jsx)(De.a,{icon:Object(I.jsx)(Ke.a,{})})})]}),o.length>0&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(fe.a.Item,{children:Object(I.jsx)(Je,{loading:c||d,files:o,setFiles:j})}),Object(I.jsx)(fe.a.Item,{children:Object(I.jsx)(Ie.a,{type:"primary",htmlType:"submit",loading:c||d,children:"Create"})})]})]})},jt=Object(P.a)(u||(u=Object(F.a)(["\n    query GetFiles($getFilesInput: GetFilesInput!) {\n        getFiles(getFilesInput: $getFilesInput) {\n            files {\n                id\n                mimetype\n                destination\n                fileName\n                size\n                originalName\n            }\n            total\n        }\n    }\n"]))),lt=Object(P.a)(b||(b=Object(F.a)(["\n    query GetFile($id: Int!){\n        getFile(id: $id){\n            id\n            originalName\n            mimetype\n            destination\n            fileName\n            size\n        }\n    }\n"]))),dt=n(354),ut=n(165),bt=n(376),Ot=n(95),mt=n.n(Ot),pt=function(e){var t=e.viewUrl,n=e.updateUrl,a=e.removeUrl,c=e.onView,r=e.onUpdate,i=e.onRemove;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:mt.a.buttonsVUR,children:[c?Object(I.jsx)("div",{className:mt.a.buttonView,onClick:c,children:Object(I.jsx)(De.a,{size:28,icon:Object(I.jsx)(ut.a,{})})}):t&&Object(I.jsx)(v.b,{to:t,className:mt.a.buttonView,children:Object(I.jsx)(De.a,{size:28,icon:Object(I.jsx)(ut.a,{})})}),r?Object(I.jsx)("div",{className:mt.a.buttonView,onClick:r,children:Object(I.jsx)(De.a,{size:28,icon:Object(I.jsx)(ut.a,{})})}):n&&Object(I.jsx)(v.b,{to:n,className:mt.a.buttonUpdate,children:Object(I.jsx)(De.a,{size:28,icon:Object(I.jsx)(bt.a,{})})}),i?Object(I.jsx)("div",{className:mt.a.buttonRemove,onClick:i,children:Object(I.jsx)(De.a,{size:28,icon:Object(I.jsx)(Ge.a,{})})}):a&&Object(I.jsx)(v.b,{to:a,className:mt.a.buttonRemove,children:Object(I.jsx)(De.a,{size:28,icon:Object(I.jsx)(Ge.a,{})})})]})})},xt=function(){var e=Object(w.a)(jt,{variables:{getFilesInput:{skip:0,take:10}}}),t=e.loading,n=e.error,a=e.data,c=e.refetch,r=Object(he.a)(He),i=Object(f.a)(r,2),s=i[0],o=i[1],j=Object(m.useState)(10),l=Object(f.a)(j,2),d=l[0],u=l[1],b=Object(m.useState)(0),O=Object(f.a)(b,2),p=O[0],x=O[1],h=Object(m.useState)([]),g=Object(f.a)(h,2),y=(g[0],g[1]);if(t)return Object(I.jsx)(V,{});n&&console.log(n);var _=function(){var e=Object(L.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({variables:{id:t}});case 2:if(!(n=e.sent).data){e.next=8;break}return e.next=6,c({getFilesInput:{skip:p,take:d}});case 6:e.next=9;break;case 8:console.log(n.errors);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t),y(t)}},P=[{title:"Image",render:function(e,t){var n;return(null===(n=t.mimetype.match(/image/))||void 0===n?void 0:n.length)?Object(I.jsx)(De.a,{size:48,shape:"square",src:Ze+t.destination+"/"+t.fileName}):Object(I.jsx)(De.a,{size:48,shape:"square",src:Ze+"static/images/file.png"})}},{title:"OriginalName",dataIndex:"originalName",render:function(e,t){return Object(I.jsx)("a",{href:Ze+t.destination+"/"+t.fileName,target:"_blank",children:e})}},{title:"Mimetype",dataIndex:"mimetype"},{title:"Size",dataIndex:"size"},{title:"Actions",render:function(e,t){return Object(I.jsx)(pt,{onRemove:function(){return _(t.id)}})}}];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(v.b,{to:"create",children:Object(I.jsx)(Ie.a,{children:"Create"})}),Object(I.jsx)(dt.a,{}),Object(I.jsx)("div",{children:Object(I.jsx)(Be.a,{loading:t||o.loading,rowSelection:Object(R.a)({},F),columns:P,dataSource:null===a||void 0===a?void 0:a.getFiles.files.map((function(e){return Object(R.a)({key:e.id},e)})),pagination:{total:null===a||void 0===a?void 0:a.getFiles.total,onChange:function(){var e=Object(L.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(n=(t-1)*d),e.next=4,c({getFilesInput:{skip:n,take:d}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onShowSizeChange:function(){var e=Object(L.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(n),e.next=3,c({getFilesInput:{skip:(t-1)*d,take:d}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})})]})},ht=n(181),ft=n.n(ht),gt=function(){var e=Object(g.h)();Object(g.g)();if(!e.id)return Object(I.jsx)(g.a,{to:"../../error"});var t=function(){var e=Object(L.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Received values of form: ",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(fe.a,{name:"createProduct",onFinish:t,children:[Object(I.jsx)(fe.a.Item,{name:"id",className:ft.a.inputId,children:Object(I.jsx)(ve.a,{type:"hidden",className:ft.a.inputId})}),Object(I.jsx)(fe.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input product name"}],children:Object(I.jsx)(ve.a,{placeholder:"Product name"})}),Object(I.jsx)(fe.a.Item,{children:Object(I.jsx)(Ie.a,{type:"primary",htmlType:"submit",children:"Update"})})]})},vt=n(359),It=n(221),yt=n.n(It),_t=vt.a.Meta,wt=function(){var e=Object(g.h)(),t=Object(w.a)(lt,{variables:{id:e.id?parseInt(e.id):0}}),n=t.loading,a=t.error,c=t.data;return e.id?n?Object(I.jsx)(V,{}):(a&&console.log(a),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(vt.a,{className:yt.a.card,cover:Object(I.jsx)(De.a,{shape:"square",size:300,src:Ze+(null===c||void 0===c?void 0:c.getFile.destination)+"/"+(null===c||void 0===c?void 0:c.getFile.fileName)}),actions:[Object(I.jsx)(v.b,{to:"../update/".concat(null===c||void 0===c?void 0:c.getFile.id),className:"buttonUpdate",children:Object(I.jsx)(De.a,{size:28,icon:Object(I.jsx)(bt.a,{})})}),Object(I.jsx)(v.b,{to:"../remove/".concat(null===c||void 0===c?void 0:c.getFile.id),className:"buttonRemove",children:Object(I.jsx)(De.a,{size:28,icon:Object(I.jsx)(Ge.a,{})})})],children:Object(I.jsx)(_t,{title:null===c||void 0===c?void 0:c.getFile.originalName,description:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{children:["Size: ",null===c||void 0===c?void 0:c.getFile.size]}),Object(I.jsxs)("div",{children:["Mimetype: ",null===c||void 0===c?void 0:c.getFile.mimetype]})]})})}),","]})):Object(I.jsx)(g.a,{to:"../../error"})},Ft=function(){var e=Object(g.h)();Object(g.g)();if(!e||!e.id)return Object(I.jsx)(g.a,{to:"../../error"});var t=function(){var e=Object(L.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(wt,{}),Object(I.jsx)(Ie.a,{onClick:t,children:"Remove"})]})},Pt=function(){return Object(I.jsxs)(g.d,{children:[Object(I.jsx)(g.b,{path:"/",element:Object(I.jsx)(xt,{})}),Object(I.jsx)(g.b,{path:":id",element:Object(I.jsx)(wt,{})}),Object(I.jsx)(g.b,{path:"create",element:Object(I.jsx)(ot,{})}),Object(I.jsx)(g.b,{path:"update/:id",element:Object(I.jsx)(gt,{})}),Object(I.jsx)(g.b,{path:"remove/:id",element:Object(I.jsx)(Ft,{})}),Object(I.jsx)(g.b,{path:"*",element:Object(I.jsx)(Oe,{})})]})},Nt=M.a.Content,kt=function(){return console.log("AppLayout"),Object(k.c)(D)?Object(I.jsxs)(M.a,{className:xe.a.layout,children:[Object(I.jsx)(ne,{}),Object(I.jsxs)(M.a,{className:"site-layout",children:[Object(I.jsx)(oe,{}),Object(I.jsxs)(Nt,{className:xe.a.content,children:[Object(I.jsx)(le,{}),Object(I.jsx)("div",{className:xe.a.siteLayoutBackground,children:Object(I.jsxs)(g.d,{children:[Object(I.jsx)(g.b,{path:"/",element:Object(I.jsx)(de,{})}),Object(I.jsx)(g.b,{path:"products/*",element:Object(I.jsx)(Te,{})}),Object(I.jsx)(g.b,{path:"categories/*",element:Object(I.jsx)(Ve,{})}),Object(I.jsx)(g.b,{path:"files/*",element:Object(I.jsx)(Pt,{})}),Object(I.jsx)(g.b,{path:"users/*",element:Object(I.jsx)(me,{})}),Object(I.jsx)(g.b,{path:"*",element:Object(I.jsx)(Oe,{})})]})})]})]})]}):Object(I.jsx)(g.a,{to:"/admin/login"})},Ut=n(96),St=n.n(Ut),Lt=n(128),Rt=n(377),Ct=Object(P.a)(O||(O=Object(F.a)(["\n    mutation Login($loginInput: LoginInput!){\n        login(loginInput: $loginInput){\n            accessToken\n            user{\n                id\n                email\n                firstName\n                lastName\n                roles{\n                    id\n                    name\n                }\n            }\n        }\n    }\n"]))),At=function(){console.log("admin login form");var e=Object(k.b)(),t=Object(k.c)(D),n=Object(he.a)(Ct),a=Object(f.a)(n,2),c=a[0],r=a[1],i=(r.data,r.loading,r.error);if(t)return Object(I.jsx)(g.a,{to:"/admin"});var s=function(){var t=Object(L.a)(S.a.mark((function t(n){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Received values of form: ",n),t.next=3,c({variables:{loginInput:{email:n.email,password:n.password}}});case 3:a=t.sent,console.log(a),a.data&&!a.errors?(localStorage.setItem("token",a.data.login.accessToken),e(A(a.data.login,!0))):console.log("error:",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)(fe.a,{name:"normal_login",className:St.a.loginForm,initialValues:{remember:!0},onFinish:s,children:[Object(I.jsx)("h2",{className:St.a.title,children:"Admin Panel"}),Object(I.jsx)(fe.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:Object(I.jsx)(ve.a,{prefix:Object(I.jsx)(K.a,{className:"site-form-item-icon"}),placeholder:"Email",type:"email"})}),Object(I.jsx)(fe.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(I.jsx)(ve.a,{prefix:Object(I.jsx)(Rt.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(I.jsxs)(fe.a.Item,{children:[Object(I.jsx)(fe.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,className:St.a.rememberMe,children:Object(I.jsx)(Lt.a,{children:Object(I.jsx)("span",{className:St.a.white,children:"Remember me"})})}),Object(I.jsx)(v.b,{className:St.a.forgotPass,to:"",children:"Forgot password"})]}),Object(I.jsxs)(fe.a.Item,{children:[Object(I.jsx)(Ie.a,{type:"primary",htmlType:"submit",className:["login-form-button",St.a.submit].join(" "),children:"Log in"}),Object(I.jsx)("span",{className:St.a.white,children:"Or "}),Object(I.jsx)(v.b,{to:"/admin-area/register",children:"register now!"})]})]})},Et=function(){var e=Object(k.b)(),t=Object(w.a)(N),n=t.loading,a=t.error,c=t.data,r=Object(m.useState)(!1),i=Object(f.a)(r,2),s=i[0],o=i[1];return Object(m.useEffect)((function(){c&&!a&&(e(A(c.me,!0)),o(!0)),a&&o(!0)}),[c,a]),console.log(n,!s,null===a||void 0===a?void 0:a.graphQLErrors,null===a||void 0===a?void 0:a.message),n||!s?Object(I.jsx)(V,{}):Object(I.jsxs)(g.d,{children:[Object(I.jsx)(g.b,{path:"/",element:Object(I.jsx)(y,{})}),Object(I.jsx)(g.b,{path:"admin/*",element:Object(I.jsx)(kt,{})}),Object(I.jsx)(g.b,{path:"admin/login",element:Object(I.jsx)(At,{})})]})},zt=n(131),Tt=n(222),$t=Object(zt.b)({auth:E,files:rt}),Vt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||zt.c,qt=Object(zt.d)($t,Vt(Object(zt.a)(Tt.a)));window.__store__=qt;var Dt=qt,Mt=n(358),Ht=n(363),Bt=n(355),Gt=new Mt.a({uri:"http://localhost:3001/graphql",cache:new Ht.a,headers:{authorization:localStorage.getItem("token")?"Bearer ".concat(localStorage.getItem("token")):""},defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"all"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}});h.a.render(Object(I.jsx)(p.a.StrictMode,{children:Object(I.jsx)(k.a,{store:Dt,children:Object(I.jsx)(v.a,{children:Object(I.jsx)(Bt.a,{client:Gt,children:Object(I.jsx)(Et,{})})})})}),document.getElementById("root"))},95:function(e,t,n){e.exports={buttonsVUR:"ButtonsVUR_buttonsVUR__2UPi3",buttonView:"ButtonsVUR_buttonView__1PmNj",buttonUpdate:"ButtonsVUR_buttonUpdate__32f1L",buttonRemove:"ButtonsVUR_buttonRemove__1IRhH"}},96:function(e,t,n){e.exports={loginForm:"Login_loginForm__1TaLU",title:"Login_title__1yFpQ",white:"Login_white__1Hmsg",rememberMe:"Login_rememberMe__2NYZe",forgotPass:"Login_forgotPass__3PeBp",submit:"Login_submit__2M9pX"}}},[[345,1,2]]]);
//# sourceMappingURL=main.2eeadb67.chunk.js.map