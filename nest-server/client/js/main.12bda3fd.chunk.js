(this["webpackJsonpreact-client"]=this["webpackJsonpreact-client"]||[]).push([[0],{144:function(e,t,n){e.exports={wrapper_svg:"Loading_wrapper_svg__34QF_"}},147:function(e,t,n){e.exports={logo:"AppMenu_logo__2s0i4"}},150:function(e,t,n){e.exports={wrapperHeader:"AppHeader_wrapperHeader__xXvM-"}},152:function(e,t,n){e.exports={siteLayoutBackground:"AppLayout_siteLayoutBackground__2zJaL"}},170:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var c,r,s,a,i,j=n(0),o=n.n(j),l=n(33),b=n.n(l),d=(n(170),n(171),n(15)),u=n(24),O=n(4),m=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.b,{to:"/admin",children:"AdminArea"}),Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/",element:Object(O.jsx)("div",{children:"client layout"})}),Object(O.jsx)(d.b,{path:"users/*",element:Object(O.jsx)(x,{})}),Object(O.jsx)(d.b,{path:"*",element:Object(O.jsx)("div",{children:"Client Error"})})]})]})},x=function(){return Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/",element:Object(O.jsx)("div",{children:"client users"})}),Object(O.jsx)(d.b,{path:":id",element:Object(O.jsx)("div",{children:"client user"})})]})},h=n(269),p=n(46),g=n(267),f=Object(g.a)(c||(c=Object(p.a)(["\n    query Me {\n        me {\n            user {\n                id\n                email\n                firstName\n                lastName\n                roles {\n                    id\n                    name\n                }\n            }\n            accessToken\n        }\n    }\n\n"]))),v=n(35),_=n(52),I=n.n(_),y=n(68),w=n(83),P={authData:null,isAuth:!1},N=function(e,t){return{type:"SET_AUTH_DATA",payload:{authData:e,isAuth:t}}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_DATA":return Object(w.a)(Object(w.a)({},e),t.payload);default:return e}},L=n(144),A=n.n(L),S=n(256),U=function(){return Object(O.jsx)("div",{className:A.a.wrapper_svg,children:Object(O.jsx)(S.a,{size:"large"})})},E=function(e){return e.auth.authData},C=function(e){return e.auth.isAuth},T=n(257),F=n(36),H=n(125),M=n(274),q=n(275),$=n(276),B=n(277),D=n(278),G=n(279),R=n(147),X=n.n(R),z=T.a.Sider,J=H.a.SubMenu,Q=function(){var e=Object(j.useState)(!1),t=Object(F.a)(e,2),n=t[0],c=t[1];return Object(O.jsxs)(z,{collapsible:!0,collapsed:n,onCollapse:c,children:[Object(O.jsx)("div",{className:X.a.logo}),Object(O.jsxs)(H.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(O.jsx)(H.a.Item,{icon:Object(O.jsx)(M.a,{}),children:Object(O.jsx)(u.b,{to:"/admin",children:"Home"})},"1"),Object(O.jsx)(H.a.Item,{icon:Object(O.jsx)(q.a,{}),children:Object(O.jsx)(u.b,{to:"/admin/products",children:"Products"})},"2"),Object(O.jsx)(H.a.Item,{icon:Object(O.jsx)($.a,{}),children:Object(O.jsx)(u.b,{to:"/admin/categories",children:"Categories"})},"3"),Object(O.jsxs)(J,{icon:Object(O.jsx)(B.a,{}),title:"Users",children:[Object(O.jsx)(H.a.Item,{children:Object(O.jsx)(u.b,{to:"/admin/users",children:"Customers"})},"4"),Object(O.jsx)(H.a.Item,{children:Object(O.jsx)(u.b,{to:"/admin/users",children:"Employees"})},"5")]},"sub1"),Object(O.jsx)(H.a.Item,{icon:Object(O.jsx)(D.a,{}),children:"Settings"},"6"),Object(O.jsx)(H.a.Item,{icon:Object(O.jsx)(G.a,{}),children:Object(O.jsx)(u.b,{to:"/",children:"Client site"})},"7")]})]})},V=n(258),K=n(150),Y=n.n(K),Z=n(160),W=T.a.Header,ee=function(){var e=Object(v.c)(E),t=Object(v.b)(),n=Object(O.jsxs)(H.a,{children:[Object(O.jsx)(H.a.Item,{children:Object(O.jsx)(u.b,{to:"",children:"1st menu item"})}),Object(O.jsx)(H.a.Item,{onClick:function(){return t(function(){var e=Object(y.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),t(N(null,!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]});return Object(O.jsxs)(W,{className:Y.a.wrapperHeader,children:[Object(O.jsx)("div",{}),Object(O.jsx)(V.a,{overlay:n,placement:"topRight",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("span",{children:[e.user.firstName," ",e.user.lastName]}),Object(O.jsx)(Z.a,{})]})})]})},te=n(270),ne=function(){return Object(O.jsxs)(te.a,{style:{margin:"16px 0"},children:[Object(O.jsx)(te.a.Item,{children:"User"}),Object(O.jsx)(te.a.Item,{children:"Bill"})]})},ce=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:"HOME"}),Object(O.jsx)(u.b,{to:"/",children:"client site"})]})},re=Object(g.a)(r||(r=Object(p.a)(["\n    query GetUsers($getUsersInput: GetUsersInput!){\n        getUsers(getUsersInput: $getUsersInput){\n            id\n            email\n            firstName\n            lastName\n            roles{\n                id\n                name\n            }\n        }\n    }\n"]))),se=function(){console.log("UsersIndex");var e=Object(h.a)(re,{variables:{getUsersInput:{skip:0,take:5}}}),t=e.loading,n=e.error,c=e.data;return t?Object(O.jsx)(U,{}):(n&&console.log(n),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("ul",{children:null===c||void 0===c?void 0:c.getUsers.map((function(e){return Object(O.jsxs)("li",{children:[Object(O.jsx)("div",{children:e.email}),Object(O.jsx)("div",{children:e.firstName}),Object(O.jsx)("div",{children:e.lastName}),Object(O.jsx)("ul",{children:e.roles.map((function(e){return Object(O.jsx)("li",{children:e.name},e.id)}))})]},e.id)}))})}))},ae=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:"Error"}),Object(O.jsx)(u.b,{to:"/",children:"Go home"})]})},ie=function(){return console.log("UsersController"),Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/",element:Object(O.jsx)(se,{})}),Object(O.jsx)(d.b,{path:":id",element:Object(O.jsx)("div",{children:"user"})}),Object(O.jsx)(d.b,{path:"add",element:Object(O.jsx)("div",{children:"add user"})}),Object(O.jsx)(d.b,{path:"*",element:Object(O.jsx)(ae,{})})]})},je=n(152),oe=n.n(je),le=n(272),be=n(264),de=n(266),ue=n(75),Oe=Object(g.a)(s||(s=Object(p.a)(["\n    mutation CreateProduct($createProductInput: CreateProductInput!){\n        createProduct(createProductInput: $createProductInput){\n            id\n            name\n        }\n    }\n"]))),me=function(){var e=Object(le.a)(Oe),t=Object(F.a)(e,2),n=t[0],c=t[1],r=(c.data,c.loading,c.error),s=Object(d.g)();r&&console.log(r);var a=function(){var e=Object(y.a)(I.a.mark((function e(t){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form: ",t),e.next=3,n({variables:{createProductInput:Object(w.a)({},t)}});case 3:c=e.sent,console.log(c),c.data&&!c.errors?s("/admin/products"):console.log("error:",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(be.a,{name:"createProduct",onFinish:a,children:[Object(O.jsx)(be.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input product name"}],children:Object(O.jsx)(de.a,{placeholder:"Please input product name"})}),Object(O.jsx)(be.a.Item,{children:Object(O.jsx)(ue.a,{type:"primary",htmlType:"submit",children:"Create"})})]})},xe=Object(g.a)(a||(a=Object(p.a)(["\n    query GetProducts($getProductsInput: GetProductsInput!){\n        getProducts(getProductsInput: $getProductsInput){\n            id\n            name\n        }\n    }\n"]))),he=function(){var e=Object(h.a)(xe,{variables:{getProductsInput:{skip:0,take:10}}}),t=e.loading,n=e.error,c=e.data;return t?Object(O.jsx)(U,{}):(n&&console.log(n),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.b,{to:"/admin/products/create",children:Object(O.jsx)(ue.a,{children:"Create product"})}),Object(O.jsx)("ul",{children:null===c||void 0===c?void 0:c.getProducts.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)("div",{children:e.name})},e.id)}))})]}))},pe=function(){return Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/",element:Object(O.jsx)(he,{})}),Object(O.jsx)(d.b,{path:"create",element:Object(O.jsx)(me,{})}),Object(O.jsx)(d.b,{path:"*",element:Object(O.jsx)(ae,{})})]})},ge=function(){return Object(O.jsx)("div",{children:"Categories"})},fe=function(){return Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/",element:Object(O.jsx)(ge,{})}),Object(O.jsx)(d.b,{path:"*",element:Object(O.jsx)(ae,{})})]})},ve=T.a.Content,_e=function(){return console.log("AppLayout"),Object(v.c)(C)?Object(O.jsxs)(T.a,{style:{minHeight:"100vh"},children:[Object(O.jsx)(Q,{}),Object(O.jsxs)(T.a,{className:"site-layout",children:[Object(O.jsx)(ee,{}),Object(O.jsxs)(ve,{style:{margin:"0 16px"},children:[Object(O.jsx)(ne,{}),Object(O.jsx)("div",{className:oe.a.siteLayoutBackground,children:Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/",element:Object(O.jsx)(ce,{})}),Object(O.jsx)(d.b,{path:"products/*",element:Object(O.jsx)(pe,{})}),Object(O.jsx)(d.b,{path:"categories/*",element:Object(O.jsx)(fe,{})}),Object(O.jsx)(d.b,{path:"users/*",element:Object(O.jsx)(ie,{})}),Object(O.jsx)(d.b,{path:"*",element:Object(O.jsx)(ae,{})})]})})]})]})]}):Object(O.jsx)(d.a,{to:"/admin/login"})},Ie=n(60),ye=n.n(Ie),we=n(271),Pe=n(280),Ne=Object(g.a)(i||(i=Object(p.a)(["\n    mutation Login($loginInput: LoginInput!){\n        login(loginInput: $loginInput){\n            accessToken\n            user{\n                id\n                email\n                firstName\n                lastName\n                roles{\n                    id\n                    name\n                }\n            }\n        }\n    }\n"]))),ke=function(){var e=Object(v.b)(),t=Object(v.c)(C),n=Object(le.a)(Ne),c=Object(F.a)(n,2),r=c[0],s=c[1],a=(s.data,s.loading,s.error);if(t)return Object(O.jsx)(d.a,{to:"/admin"});var i=function(){var t=Object(y.a)(I.a.mark((function t(n){var c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Received values of form: ",n),t.next=3,r({variables:{loginInput:{email:n.email,password:n.password}}});case 3:c=t.sent,console.log(c),c.data&&!c.errors?(localStorage.setItem("token",c.data.login.accessToken),e(N(c.data.login,!0))):console.log("error:",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(be.a,{name:"normal_login",className:ye.a.loginForm,initialValues:{remember:!0},onFinish:i,children:[Object(O.jsx)("h2",{className:ye.a.title,children:"Admin Panel"}),Object(O.jsx)(be.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:Object(O.jsx)(de.a,{prefix:Object(O.jsx)(G.a,{className:"site-form-item-icon"}),placeholder:"Email",type:"email"})}),Object(O.jsx)(be.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(O.jsx)(de.a,{prefix:Object(O.jsx)(Pe.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(O.jsxs)(be.a.Item,{children:[Object(O.jsx)(be.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,className:ye.a.rememberMe,children:Object(O.jsx)(we.a,{children:Object(O.jsx)("span",{className:ye.a.white,children:"Remember me"})})}),Object(O.jsx)(u.b,{className:ye.a.forgotPass,to:"",children:"Forgot password"})]}),Object(O.jsxs)(be.a.Item,{children:[Object(O.jsx)(ue.a,{type:"primary",htmlType:"submit",className:["login-form-button",ye.a.submit].join(" "),children:"Log in"}),Object(O.jsx)("span",{className:ye.a.white,children:"Or "}),Object(O.jsx)(u.b,{to:"/admin-area/register",children:"register now!"})]})]})},Le=function(){var e=Object(v.b)(),t=Object(h.a)(f),n=t.data,c=t.error,r=t.loading;return Object(j.useEffect)((function(){n&&!c&&e(N(n.me,!0))}),[n,c]),r?Object(O.jsx)(U,{}):Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/",element:Object(O.jsx)(m,{})}),Object(O.jsx)(d.b,{path:"admin/*",element:Object(O.jsx)(_e,{})}),Object(O.jsx)(d.b,{path:"admin/login",element:Object(O.jsx)(ke,{})})]})},Ae=n(86),Se=n(156),Ue=Object(Ae.b)({auth:k}),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ae.c,Ce=Object(Ae.d)(Ue,Ee(Object(Ae.a)(Se.a)));window.__store__=Ce;var Te=Ce,Fe=n(265),He=n(268),Me=n(263),qe=new Fe.a({uri:"/graphql",credentials:"include",cache:new He.a,headers:{authorization:localStorage.getItem("token")?"Bearer ".concat(localStorage.getItem("token")):""},defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}});b.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(v.a,{store:Te,children:Object(O.jsx)(u.a,{children:Object(O.jsx)(Me.a,{client:qe,children:Object(O.jsx)(Le,{})})})})}),document.getElementById("root"))},60:function(e,t,n){e.exports={loginForm:"Login_loginForm__1TaLU",title:"Login_title__1yFpQ",white:"Login_white__1Hmsg",rememberMe:"Login_rememberMe__2NYZe",forgotPass:"Login_forgotPass__3PeBp",submit:"Login_submit__2M9pX"}}},[[252,1,2]]]);
//# sourceMappingURL=main.12bda3fd.chunk.js.map