{"version":3,"sources":["components/Loading/Loading.module.css","admin-area/components/Menu/AppMenu.module.css","admin-area/components/Header/AppHeader.module.css","admin-area/components/Layout/AppLayout.module.css","client-area/Layout/ClientLayout.tsx","admin-area/GraphQL/auth-query.ts","redux/auth-reducer.ts","components/Loading/Loading.tsx","redux/auth-selectors.ts","admin-area/components/Menu/AppMenu.tsx","admin-area/components/Header/AppHeader.tsx","admin-area/components/Breadcrumb/AppBreadcrumb.tsx","admin-area/components/Home/Home.tsx","admin-area/GraphQL/users-query.ts","admin-area/components/Users/UsersIndex/UsersIndex.tsx","admin-area/components/Error/Error.tsx","admin-area/components/Users/UsersController.tsx","admin-area/GraphQL/products-mutation.ts","admin-area/components/Products/ProductCreate/ProductCreate.tsx","admin-area/GraphQL/products-query.ts","admin-area/components/Products/ProductsIndex/ProductsIndex.tsx","admin-area/components/Products/ProductsController.tsx","admin-area/components/Categories/CategoriesIndex/CategoriesIndex.tsx","admin-area/components/Categories/CategoriesController.tsx","admin-area/components/Layout/AdminLayout.tsx","admin-area/GraphQL/auth-mutation.ts","admin-area/components/Login/Login.tsx","App.tsx","redux/redux-store.ts","index.tsx","admin-area/components/Login/Login.module.css"],"names":["module","exports","ClientLayout","to","path","element","Users","ME_QUERY","gql","initialState","authData","isAuth","actions","type","payload","authReducer","state","action","Loading","className","s","wrapper_svg","size","s_getAuthData","auth","s_getIsAuth","Sider","Layout","SubMenu","Menu","AppMenu","useState","collapsed","setCollapsed","collapsible","onCollapse","logo","theme","defaultSelectedKeys","mode","Item","icon","HomeOutlined","ShoppingOutlined","AppstoreOutlined","TeamOutlined","title","SettingOutlined","UserOutlined","Header","AppHeader","useSelector","dispatch","useDispatch","menu","onClick","a","localStorage","removeItem","wrapperHeader","overlay","placement","user","firstName","lastName","DownOutlined","AppBreadcrumb","style","margin","Home","GET_USER_QUERY","UsersIndex","console","log","useQuery","variables","getUsersInput","skip","take","loading","error","data","getUsers","map","email","roles","role","name","id","Error","UsersController","CREATE_PRODUCT_QUERY","ProductCreate","useMutation","createProduct","navigate","useNavigate","onFinish","values","createProductInput","response","errors","label","rules","required","message","placeholder","htmlType","GET_PRODUCTS_QUERY","ProductsIndex","getProductsInput","getProducts","product","ProductsController","CategoriesIndex","CategoriesController","Content","AdminLayout","minHeight","siteLayoutBackground","LOGIN_MUTATION","Login","login","loginInput","password","setItem","accessToken","loginForm","initialValues","remember","prefix","LockOutlined","valuePropName","noStyle","rememberMe","white","forgotPass","submit","join","App","useEffect","me","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","client","ApolloClient","uri","credentials","cache","InMemoryCache","headers","authorization","getItem","defaultOptions","watchQuery","fetchPolicy","errorPolicy","query","ReactDOM","render","StrictMode","ApolloProvider","document","getElementById"],"mappings":"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","file":"js/main.12bda3fd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper_svg\":\"Loading_wrapper_svg__34QF_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"AppMenu_logo__2s0i4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperHeader\":\"AppHeader_wrapperHeader__xXvM-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"siteLayoutBackground\":\"AppLayout_siteLayoutBackground__2zJaL\"};","import React, {FC} from \"react\";\r\nimport {Link, Route, Routes} from \"react-router-dom\";\r\n\r\nexport const ClientLayout: FC = () => {\r\n    return (\r\n        <>\r\n            <Link to={'/admin'}>AdminArea</Link>\r\n            <Routes>\r\n                <Route path={'/'} element={<div>client layout</div>}/>\r\n                <Route path={'users/*'} element={<Users/>}/>\r\n                <Route path={'*'} element={<div>Client Error</div>}/>\r\n            </Routes>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nconst Users: FC = () => {\r\n    return (\r\n        <Routes>\r\n            <Route path={'/'} element={<div>client users</div>}/>\r\n            <Route path={':id'} element={<div>client user</div>}/>\r\n        </Routes>\r\n    )\r\n}\r\n","import {gql} from '@apollo/client';\r\nimport {Auth, User} from '../../types/types';\r\n\r\nexport type MeData = { me: Auth }\r\nexport type MeVars = {}\r\n\r\n\r\nexport const ME_QUERY = gql`\r\n    query Me {\r\n        me {\r\n            user {\r\n                id\r\n                email\r\n                firstName\r\n                lastName\r\n                roles {\r\n                    id\r\n                    name\r\n                }\r\n            }\r\n            accessToken\r\n        }\r\n    }\r\n\r\n`\r\n","import {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\nimport {Auth} from \"../types/types\";\r\n\r\nlet initialState = {\r\n    authData: null as null | Auth,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SET_AUTH_DATA':\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const actions = {\r\n    setAuthData: (authData: Auth | null, isAuth: boolean) => ({\r\n        type: 'SET_AUTH_DATA',\r\n        payload: {authData, isAuth}\r\n    } as const),\r\n}\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    localStorage.removeItem('token');\r\n    dispatch(actions.setAuthData(null, false));\r\n}\r\n\r\nexport default authReducer;\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsType>;\r\n","import React from 'react';\r\nimport s from './Loading.module.css';\r\nimport {Spin} from \"antd\";\r\n\r\nexport const Loading: React.FC = () => {\r\n    return (\r\n        <div className={s.wrapper_svg}>\r\n            <Spin size={'large'}/>\r\n        </div>\r\n    );\r\n}","import { AppStateType } from './redux-store';\r\n\r\nexport const s_getAuthData = (state: AppStateType) => {\r\n    return state.auth.authData;\r\n}\r\n\r\nexport const s_getIsAuth = (state: AppStateType) => {\r\n    return state.auth.isAuth;\r\n}\r\n","import React, {FC, useState} from \"react\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport {\r\n    AppstoreOutlined,\r\n    FileOutlined,\r\n    HomeOutlined,\r\n    SettingOutlined,\r\n    ShoppingOutlined,\r\n    TeamOutlined,\r\n    UserOutlined\r\n} from \"@ant-design/icons\";\r\nimport s from './AppMenu.module.css';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst {Sider} = Layout;\r\nconst {SubMenu} = Menu;\r\n\r\n\r\nexport const AppMenu: FC = () => {\r\n    const [collapsed, setCollapsed] = useState(false);\r\n\r\n    return (\r\n        <Sider collapsible collapsed={collapsed} onCollapse={setCollapsed}>\r\n            <div className={s.logo}/>\r\n            <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n                <Menu.Item key=\"1\" icon={<HomeOutlined/>}>\r\n                    <Link to={'/admin'}>Home</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"2\" icon={<ShoppingOutlined/>}>\r\n                    <Link to={'/admin/products'}>Products</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"3\" icon={<AppstoreOutlined/>}>\r\n                    <Link to={'/admin/categories'}>Categories</Link>\r\n                </Menu.Item>\r\n                <SubMenu key=\"sub1\" icon={<TeamOutlined/>} title=\"Users\">\r\n                    <Menu.Item key=\"4\">\r\n                        <Link to={'/admin/users'}>\r\n                            Customers\r\n                        </Link>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"5\">\r\n                        <Link to={'/admin/users'}>\r\n                            Employees\r\n                        </Link>\r\n                    </Menu.Item>\r\n                </SubMenu>\r\n                <Menu.Item key=\"6\" icon={<SettingOutlined/>}>\r\n                    Settings\r\n                </Menu.Item>\r\n                <Menu.Item key=\"7\" icon={<UserOutlined/>}>\r\n                    <Link to={'/'}>Client site</Link>\r\n                </Menu.Item>\r\n            </Menu>\r\n        </Sider>\r\n    );\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {Dropdown, Layout, Menu} from \"antd\";\r\nimport s from './AppHeader.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {s_getAuthData} from \"../../../redux/auth-selectors\";\r\nimport {Auth} from \"../../../types/types\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {logout} from \"../../../redux/auth-reducer\";\r\nimport {DownOutlined} from \"@ant-design/icons\";\r\n\r\nconst {Header} = Layout;\r\n\r\nexport const AppHeader: FC = () => {\r\n    const authData = useSelector(s_getAuthData) as Auth;\r\n    const dispatch = useDispatch();\r\n\r\n    const menu = (\r\n        <Menu>\r\n            <Menu.Item>\r\n                <Link to={''}>\r\n                    1st menu item\r\n                </Link>\r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => dispatch(logout())}>\r\n                Logout\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    return (\r\n        <Header className={s.wrapperHeader}>\r\n            <div></div>\r\n            <Dropdown overlay={menu} placement=\"topRight\">\r\n                <div>\r\n                    <span>{authData.user.firstName} {authData.user.lastName}</span>\r\n                    <DownOutlined/>\r\n                </div>\r\n            </Dropdown>\r\n        </Header>\r\n    );\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {Breadcrumb} from \"antd\";\r\n\r\nexport const AppBreadcrumb: FC = () => {\r\n    return (\r\n        <Breadcrumb style={{margin: '16px 0'}}>\r\n            <Breadcrumb.Item>User</Breadcrumb.Item>\r\n            <Breadcrumb.Item>Bill</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n    );\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport s from './Home.module.css';\r\n\r\nexport const Home: FC = () => {\r\n    return (\r\n        <>\r\n            <div>HOME</div>\r\n            <Link to={'/'}>client site</Link>\r\n        </>\r\n    );\r\n}\r\n","import {gql} from '@apollo/client';\r\nimport {User} from '../../types/types';\r\n\r\nexport type GetUsersData = { getUsers: User[] }\r\nexport type GetUsersVars = { getUsersInput: getUsersInput }\r\n\r\ntype getUsersInput = { take: number, skip: number }\r\n\r\nexport const GET_USER_QUERY = gql`\r\n    query GetUsers($getUsersInput: GetUsersInput!){\r\n        getUsers(getUsersInput: $getUsersInput){\r\n            id\r\n            email\r\n            firstName\r\n            lastName\r\n            roles{\r\n                id\r\n                name\r\n            }\r\n        }\r\n    }\r\n`\r\n","import {useQuery} from '@apollo/client';\r\nimport React, {FC} from 'react';\r\nimport {Loading} from '../../../../components/Loading/Loading';\r\nimport {GetUsersData, GetUsersVars, GET_USER_QUERY} from '../../../GraphQL/users-query';\r\n\r\nexport const UsersIndex: FC = () => {\r\n    console.log('UsersIndex')\r\n    const {loading, error, data} = useQuery<GetUsersData, GetUsersVars>(\r\n        GET_USER_QUERY,\r\n        {variables: {getUsersInput: {skip: 0, take: 5}}}\r\n    );\r\n\r\n    if (loading)\r\n        return <Loading/>\r\n\r\n    if (error)\r\n        console.log(error)\r\n\r\n    return (\r\n        <>\r\n            <ul>\r\n                {data?.getUsers.map(user => (\r\n                    <li key={user.id}>\r\n                        <div>{user.email}</div>\r\n                        <div>{user.firstName}</div>\r\n                        <div>{user.lastName}</div>\r\n                        <ul>{user.roles.map(role => (\r\n                            <li key={role.id}>{role.name}</li>\r\n                        ))}</ul>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport s from './Error.module.css';\r\n\r\nexport const Error: FC = () => {\r\n    return (\r\n        <>\r\n            <div>Error</div>\r\n            <Link to={'/'}>Go home</Link>\r\n        </>\r\n    );\r\n};\r\n","import React, {FC} from \"react\";\r\nimport {Link, Route, Routes} from \"react-router-dom\";\r\nimport {UsersIndex} from \"./UsersIndex/UsersIndex\";\r\nimport {Error} from \"../Error/Error\";\r\n\r\nexport const UsersController: FC = () => {\r\n    console.log('UsersController')\r\n    return (\r\n        <Routes>\r\n            <Route path={'/'} element={<UsersIndex/>}/>\r\n            <Route path={':id'} element={<div>user</div>}/>\r\n            <Route path={'add'} element={<div>add user</div>}/>\r\n            <Route path={'*'} element={<Error/>}/>\r\n        </Routes>\r\n    );\r\n}\r\n","import {gql} from '@apollo/client';\r\nimport {Product} from '../../types/types';\r\n\r\nexport type CreateProductData = { createProduct: Product[] }\r\nexport type CreateProductVars = { createProductInput: createProductInput }\r\n\r\ntype createProductInput = { name: string }\r\n\r\nexport const CREATE_PRODUCT_QUERY = gql`\r\n    mutation CreateProduct($createProductInput: CreateProductInput!){\r\n        createProduct(createProductInput: $createProductInput){\r\n            id\r\n            name\r\n        }\r\n    }\r\n`\r\n\r\n","import {useMutation} from '@apollo/client';\r\nimport {Button, Form, Input} from 'antd';\r\nimport React, {FC} from 'react';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport {CREATE_PRODUCT_QUERY, CreateProductData, CreateProductVars} from '../../../GraphQL/products-mutation';\r\n\r\nexport const ProductCreate: FC = () => {\r\n    const [createProduct, {\r\n        data,\r\n        loading,\r\n        error\r\n    }] = useMutation<CreateProductData, CreateProductVars>(CREATE_PRODUCT_QUERY);\r\n    const navigate = useNavigate();\r\n\r\n    if (error)\r\n        console.log(error)\r\n\r\n    const onFinish = async (values: { name: string }) => {\r\n        console.log('Received values of form: ', values);\r\n        const response = await createProduct({variables: {createProductInput: {...values}}});\r\n        console.log(response)\r\n        if (response.data && !response.errors) {\r\n            navigate('/admin/products')\r\n        } else\r\n            console.log('error:', error)\r\n    };\r\n\r\n    return (\r\n        <Form name=\"createProduct\" onFinish={onFinish}>\r\n            <Form.Item\r\n                name=\"name\"\r\n                label=\"Name\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: 'Please input product name',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input placeholder=\"Please input product name\"/>\r\n            </Form.Item>\r\n            <Form.Item>\r\n                <Button type=\"primary\" htmlType={'submit'}>\r\n                    Create\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    )\r\n}\r\n","import {gql} from '@apollo/client';\r\nimport {Product} from '../../types/types';\r\n\r\nexport type GetProductsData = { getProducts: Product[] }\r\nexport type GetProductsVars = { getProductsInput: getProductsInput }\r\n\r\ntype getProductsInput = { take: number, skip: number }\r\n\r\nexport const GET_PRODUCTS_QUERY = gql`\r\n    query GetProducts($getProductsInput: GetProductsInput!){\r\n        getProducts(getProductsInput: $getProductsInput){\r\n            id\r\n            name\r\n        }\r\n    }\r\n`\r\n\r\n","import {useQuery} from '@apollo/client';\r\nimport { Button } from 'antd';\r\nimport React, {FC} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {Loading} from '../../../../components/Loading/Loading';\r\nimport {GetProductsData, GetProductsVars, GET_PRODUCTS_QUERY} from '../../../GraphQL/products-query';\r\nimport s from './ProductsIndex.module.css';\r\n\r\nexport const ProductsIndex: FC = () => {\r\n    const {loading, error, data} = useQuery<GetProductsData, GetProductsVars>(\r\n        GET_PRODUCTS_QUERY,\r\n        {variables: {getProductsInput: {skip: 0, take: 10}}}\r\n    );\r\n    if (loading)\r\n        return <Loading/>\r\n\r\n    if (error)\r\n        console.log(error)\r\n\r\n    return (\r\n        <>\r\n            <Link to={'/admin/products/create'}>\r\n                <Button>Create product</Button>\r\n            </Link>\r\n            <ul>\r\n                {data?.getProducts.map(product => (\r\n                    <li key={product.id}>\r\n                        <div>{product.name}</div>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\n\r\n","import React, {FC} from \"react\";\r\nimport {Route, Routes} from \"react-router-dom\";\r\nimport {Error} from \"../Error/Error\";\r\nimport {ProductCreate} from \"./ProductCreate/ProductCreate\";\r\nimport {ProductsIndex} from \"./ProductsIndex/ProductsIndex\";\r\n\r\nexport const ProductsController: FC = () => {\r\n    return (\r\n        <Routes>\r\n            <Route path={'/'} element={<ProductsIndex/>}/>\r\n            <Route path={'create'} element={<ProductCreate/>}/>\r\n            <Route path={'*'} element={<Error/>}/>\r\n        </Routes>\r\n    );\r\n}\r\n","import React, { FC } from 'react';\r\n\r\nexport const CategoriesIndex: FC = () => {\r\n    return(\r\n        <div>Categories</div>\r\n    )\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {Link, Route, Routes} from \"react-router-dom\";\r\nimport {Error} from \"../Error/Error\";\r\nimport { CategoriesIndex } from \"./CategoriesIndex/CategoriesIndex\";\r\n\r\nexport const CategoriesController: FC = () => {\r\n    return (\r\n        <Routes>\r\n            <Route path={'/'} element={<CategoriesIndex/>}/>\r\n            <Route path={'*'} element={<Error/>}/>\r\n        </Routes>\r\n    );\r\n}\r\n","import React, {FC} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {s_getIsAuth} from \"../../../redux/auth-selectors\";\r\nimport {Login} from \"../Login/Login\";\r\nimport {Layout} from \"antd\";\r\nimport {AppMenu} from \"../Menu/AppMenu\";\r\nimport {AppHeader} from \"../Header/AppHeader\";\r\nimport {AppBreadcrumb} from \"../Breadcrumb/AppBreadcrumb\";\r\nimport {Navigate, Route, Routes,} from \"react-router-dom\";\r\nimport {Home} from \"../Home/Home\";\r\nimport {UsersController} from \"../Users/UsersController\";\r\nimport s from './AppLayout.module.css';\r\nimport {UsersIndex} from \"../Users/UsersIndex/UsersIndex\";\r\nimport {Error} from \"../Error/Error\";\r\nimport { ProductsController } from \"../Products/ProductsController\";\r\nimport { CategoriesController } from \"../Categories/CategoriesController\";\r\n\r\nconst {Content} = Layout;\r\n\r\nexport const AdminLayout: FC = () => {\r\n    console.log('AppLayout')\r\n    const isAuth = useSelector(s_getIsAuth);\r\n\r\n    if (!isAuth)\r\n        return <Navigate to={'/admin/login'}/>\r\n\r\n    return (\r\n        <Layout style={{minHeight: '100vh'}}>\r\n            <AppMenu/>\r\n            <Layout className=\"site-layout\">\r\n                <AppHeader/>\r\n                <Content style={{margin: '0 16px'}}>\r\n                    <AppBreadcrumb/>\r\n                    <div className={s.siteLayoutBackground}>\r\n                        <Routes>\r\n                            <Route path={'/'} element={<Home/>}/>\r\n                            <Route path={'products/*'} element={ <ProductsController/>}/>\r\n                            <Route path={'categories/*'} element={ <CategoriesController/>}/>\r\n                            <Route path={'users/*'} element={ <UsersController/>}/>\r\n                            <Route path={'*'} element={<Error/>}/>\r\n                        </Routes>\r\n                    </div>\r\n                </Content>\r\n            </Layout>\r\n        </Layout>\r\n    );\r\n}\r\n","import {gql} from '@apollo/client';\r\nimport {Auth} from '../../types/types';\r\n\r\nexport type LoginData = { login: Auth }\r\nexport type LoginVars = { loginInput: loginInput }\r\n\r\ntype loginInput = { email: string, password: string }\r\n\r\nexport const LOGIN_MUTATION = gql`\r\n    mutation Login($loginInput: LoginInput!){\r\n        login(loginInput: $loginInput){\r\n            accessToken\r\n            user{\r\n                id\r\n                email\r\n                firstName\r\n                lastName\r\n                roles{\r\n                    id\r\n                    name\r\n                }\r\n            }\r\n        }\r\n    }\r\n`\r\n","import React, {FC} from \"react\";\r\nimport s from './Login.module.css';\r\nimport {Form, Input, Button, Checkbox, Badge} from 'antd';\r\nimport {UserOutlined, LockOutlined} from '@ant-design/icons';\r\nimport {Link, Navigate} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {s_getIsAuth} from \"../../../redux/auth-selectors\";\r\nimport {useMutation} from \"@apollo/client\";\r\nimport {LoginData, LoginVars, LOGIN_MUTATION} from \"../../GraphQL/auth-mutation\";\r\nimport {actions} from \"../../../redux/auth-reducer\";\r\n\r\nexport const Login: FC = () => {\r\n    const dispatch = useDispatch();\r\n    const isAuth = useSelector(s_getIsAuth);\r\n    const [login, {\r\n        data,\r\n        loading,\r\n        error\r\n    }] = useMutation<LoginData, LoginVars>(LOGIN_MUTATION);\r\n\r\n    if (isAuth)\r\n        return <Navigate to={'/admin'}/>\r\n\r\n    const onFinish = async (values: { email: string, password: string, remember: boolean }) => {\r\n        console.log('Received values of form: ', values);\r\n        const response = await login({variables: {loginInput: {email: values.email, password: values.password}}});\r\n        console.log(response)\r\n        if (response.data && !response.errors) {\r\n            localStorage.setItem('token', response.data.login.accessToken)\r\n            dispatch(actions.setAuthData(response.data.login, true));\r\n        } else\r\n            console.log('error:', error)\r\n    };\r\n\r\n    return (\r\n        <Form\r\n            name=\"normal_login\"\r\n            className={s.loginForm}\r\n            initialValues={{remember: true}}\r\n            onFinish={onFinish}\r\n        >\r\n            <h2 className={s.title}>Admin Panel</h2>\r\n            <Form.Item\r\n                name=\"email\"\r\n                rules={[{required: true, message: 'Please input your Email!'}]}\r\n            >\r\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\"/>} placeholder=\"Email\" type={'email'}/>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"password\"\r\n                rules={[{required: true, message: 'Please input your Password!'}]}\r\n            >\r\n                <Input\r\n                    prefix={<LockOutlined className=\"site-form-item-icon\"/>}\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                />\r\n            </Form.Item>\r\n            <Form.Item>\r\n                <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle className={s.rememberMe}>\r\n                    <Checkbox>\r\n                        <span className={s.white}>Remember me</span>\r\n                    </Checkbox>\r\n                </Form.Item>\r\n\r\n                <Link className={s.forgotPass} to={''}>\r\n                    Forgot password\r\n                </Link>\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" className={['login-form-button', s.submit].join(' ')}>\r\n                    Log in\r\n                </Button>\r\n                <span className={s.white}>Or </span>\r\n                <Link to={'/admin-area/register'}>register now!</Link>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n}\r\n","import React, {FC, useEffect} from 'react';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\nimport {Route, Routes} from \"react-router-dom\";\r\nimport {ClientLayout} from \"./client-area/Layout/ClientLayout\";\r\nimport {useQuery} from '@apollo/client';\r\nimport {ME_QUERY, MeData, MeVars} from './admin-area/GraphQL/auth-query';\r\nimport {useDispatch} from 'react-redux';\r\nimport {actions} from './redux/auth-reducer';\r\nimport {Loading} from './components/Loading/Loading';\r\nimport {AdminLayout} from './admin-area/components/Layout/AdminLayout';\r\nimport { Login } from './admin-area/components/Login/Login';\r\n\r\nexport const App: FC = () => {\r\n    const dispatch = useDispatch();\r\n    const {data, error, loading} = useQuery<MeData, MeVars>(ME_QUERY);\r\n\r\n    useEffect(() => {\r\n        if (data && !error) {\r\n            dispatch(actions.setAuthData(data.me, true))\r\n        }\r\n    }, [data, error]);\r\n\r\n    if (loading)\r\n        return <Loading/>\r\n\r\n    return (\r\n        <Routes>\r\n            {/*<Route path={'/'}>*/}\r\n            {/*    <AppLayout/>*/}\r\n            {/*</Route>*/}\r\n            {/*<Route path={'/admin'}>*/}\r\n            {/*    <AdminLayout/>*/}\r\n            {/*</Route>*/}\r\n            {/*<Route path={'*'} element={<Error/>}/>*/}\r\n\r\n            <Route path=\"/\" element={<ClientLayout/>}/>\r\n            <Route path=\"admin/*\" element={<AdminLayout/>}/>\r\n            <Route path={'admin/login'} element={<Login/>}/>\r\n        </Routes>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n","import {Action, applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk';\r\n\r\nlet rootReducer = combineReducers({\r\n    auth: authReducer,\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer;\r\nexport type AppStateType = ReturnType<RootReducerType>;\r\n\r\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<Promise<void>, AppStateType, unknown, A>;\r\n\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n// @ts-ignore\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {App} from './App';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from 'react-redux';\r\nimport {\r\n    ApolloClient,\r\n    InMemoryCache,\r\n    ApolloProvider,\r\n} from \"@apollo/client\";\r\n\r\nconst client = new ApolloClient({\r\n    uri: '/graphql',\r\n    credentials: 'include',\r\n    cache: new InMemoryCache(),\r\n    headers: {\r\n        authorization: localStorage.getItem('token') ? `Bearer ${localStorage.getItem('token')}` : \"\",\r\n    },\r\n    defaultOptions: {\r\n        watchQuery: {\r\n            fetchPolicy: 'no-cache',\r\n            errorPolicy: 'ignore',\r\n        },\r\n        query: {\r\n            fetchPolicy: 'no-cache',\r\n            errorPolicy: 'all',\r\n        },\r\n    }\r\n});\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <BrowserRouter>\r\n                <ApolloProvider client={client}>\r\n                    <App/>\r\n                </ApolloProvider>\r\n            </BrowserRouter>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"Login_loginForm__1TaLU\",\"title\":\"Login_title__1yFpQ\",\"white\":\"Login_white__1Hmsg\",\"rememberMe\":\"Login_rememberMe__2NYZe\",\"forgotPass\":\"Login_forgotPass__3PeBp\",\"submit\":\"Login_submit__2M9pX\"};"],"sourceRoot":""}