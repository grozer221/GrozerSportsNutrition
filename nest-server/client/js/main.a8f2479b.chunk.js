(this["webpackJsonpreact-client"]=this["webpackJsonpreact-client"]||[]).push([[0],{125:function(e,t,n){e.exports={inputId:"ProductUpdate_inputId__d26CZ"}},145:function(e,t,n){e.exports={wrapper_svg:"Loading_wrapper_svg__34QF_"}},148:function(e,t,n){e.exports={logo:"AppMenu_logo__2s0i4"}},151:function(e,t,n){e.exports={wrapperHeader:"AppHeader_wrapperHeader__xXvM-"}},153:function(e,t,n){e.exports={siteLayoutBackground:"AppLayout_siteLayoutBackground__2zJaL"}},157:function(e,t,n){e.exports={product:"ProductsIndex_product__2CaA3"}},172:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var c,r,a,s,i,j,o,l,d=n(0),b=n.n(d),u=n(36),O=n.n(u),m=(n(172),n(173),n(15)),x=n(18),h=n(1),p=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x.b,{to:"/admin",children:"AdminArea"}),Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/",element:Object(h.jsx)("div",{children:"client layout"})}),Object(h.jsx)(m.b,{path:"users/*",element:Object(h.jsx)(g,{})}),Object(h.jsx)(m.b,{path:"*",element:Object(h.jsx)("div",{children:"Client Error"})})]})]})},g=function(){return Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/",element:Object(h.jsx)("div",{children:"client users"})}),Object(h.jsx)(m.b,{path:":id",element:Object(h.jsx)("div",{children:"client user"})})]})},f=n(271),v=n(37),I=n(269),_=Object(I.a)(c||(c=Object(v.a)(["\n    query Me {\n        me {\n            user {\n                id\n                email\n                firstName\n                lastName\n                roles {\n                    id\n                    name\n                }\n            }\n            accessToken\n        }\n    }\n\n"]))),P=n(39),y=n(33),w=n.n(y),N=n(48),k=n(63),U={authData:null,isAuth:!1},L=function(e,t){return{type:"SET_AUTH_DATA",payload:{authData:e,isAuth:t}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_DATA":return Object(k.a)(Object(k.a)({},e),t.payload);default:return e}},A=n(145),C=n.n(A),F=n(258),E=function(){return Object(h.jsx)("div",{className:C.a.wrapper_svg,children:Object(h.jsx)(F.a,{size:"large"})})},T=function(e){return e.auth.authData},$=function(e){return e.auth.isAuth},H=n(259),M=n(30),q=n(126),R=n(276),B=n(277),D=n(278),G=n(279),V=n(280),X=n(281),z=n(148),J=n.n(z),Q=H.a.Sider,Z=q.a.SubMenu,K=function(){var e=Object(d.useState)(!1),t=Object(M.a)(e,2),n=t[0],c=t[1];return Object(h.jsxs)(Q,{collapsible:!0,collapsed:n,onCollapse:c,children:[Object(h.jsx)("div",{className:J.a.logo}),Object(h.jsxs)(q.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(h.jsx)(q.a.Item,{icon:Object(h.jsx)(R.a,{}),children:Object(h.jsx)(x.b,{to:"/admin",children:"Home"})},"1"),Object(h.jsx)(q.a.Item,{icon:Object(h.jsx)(B.a,{}),children:Object(h.jsx)(x.b,{to:"/admin/products",children:"Products"})},"2"),Object(h.jsx)(q.a.Item,{icon:Object(h.jsx)(D.a,{}),children:Object(h.jsx)(x.b,{to:"/admin/categories",children:"Categories"})},"3"),Object(h.jsxs)(Z,{icon:Object(h.jsx)(G.a,{}),title:"Users",children:[Object(h.jsx)(q.a.Item,{children:Object(h.jsx)(x.b,{to:"/admin/users",children:"Customers"})},"4"),Object(h.jsx)(q.a.Item,{children:Object(h.jsx)(x.b,{to:"/admin/users",children:"Employees"})},"5")]},"sub1"),Object(h.jsx)(q.a.Item,{icon:Object(h.jsx)(V.a,{}),children:"Settings"},"6"),Object(h.jsx)(q.a.Item,{icon:Object(h.jsx)(X.a,{}),children:Object(h.jsx)(x.b,{to:"/",children:"Client site"})},"7")]})]})},Y=n(260),W=n(151),ee=n.n(W),te=n(162),ne=H.a.Header,ce=function(){var e=Object(P.c)(T),t=Object(P.b)(),n=Object(h.jsxs)(q.a,{children:[Object(h.jsx)(q.a.Item,{children:Object(h.jsx)(x.b,{to:"",children:"1st menu item"})}),Object(h.jsx)(q.a.Item,{onClick:function(){return t(function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),t(L(null,!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]});return Object(h.jsxs)(ne,{className:ee.a.wrapperHeader,children:[Object(h.jsx)("div",{}),Object(h.jsx)(Y.a,{overlay:n,placement:"topRight",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{children:[e.user.firstName," ",e.user.lastName]}),Object(h.jsx)(te.a,{})]})})]})},re=n(272),ae=function(){return Object(h.jsxs)(re.a,{style:{margin:"16px 0"},children:[Object(h.jsx)(re.a.Item,{children:"User"}),Object(h.jsx)(re.a.Item,{children:"Bill"})]})},se=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:"HOME"}),Object(h.jsx)(x.b,{to:"/",children:"client site"})]})},ie=Object(I.a)(r||(r=Object(v.a)(["\n    query GetUsers($getUsersInput: GetUsersInput!){\n        getUsers(getUsersInput: $getUsersInput){\n            id\n            email\n            firstName\n            lastName\n            roles{\n                id\n                name\n            }\n        }\n    }\n"]))),je=function(){console.log("UsersIndex");var e=Object(f.a)(ie,{variables:{getUsersInput:{skip:0,take:5}}}),t=e.loading,n=e.error,c=e.data;return t?Object(h.jsx)(E,{}):(n&&console.log(n),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("ul",{children:null===c||void 0===c?void 0:c.getUsers.map((function(e){return Object(h.jsxs)("li",{children:[Object(h.jsx)("div",{children:e.email}),Object(h.jsx)("div",{children:e.firstName}),Object(h.jsx)("div",{children:e.lastName}),Object(h.jsx)("ul",{children:e.roles.map((function(e){return Object(h.jsx)("li",{children:e.name},e.id)}))})]},e.id)}))})}))},oe=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:"Error"}),Object(h.jsx)(x.b,{to:"/",children:"Go home"})]})},le=function(){return console.log("UsersController"),Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/",element:Object(h.jsx)(je,{})}),Object(h.jsx)(m.b,{path:":id",element:Object(h.jsx)("div",{children:"user"})}),Object(h.jsx)(m.b,{path:"add",element:Object(h.jsx)("div",{children:"add user"})}),Object(h.jsx)(m.b,{path:"*",element:Object(h.jsx)(oe,{})})]})},de=n(153),be=n.n(de),ue=n(274),Oe=n(266),me=n(268),xe=n(76),he=Object(I.a)(a||(a=Object(v.a)(["\n    mutation CreateProduct($createProductInput: CreateProductInput!){\n        createProduct(createProductInput: $createProductInput){\n            id\n            name\n        }\n    }\n"]))),pe=Object(I.a)(s||(s=Object(v.a)(["\n    mutation UpdateProduct($updateProductInput: UpdateProductInput!){\n        updateProduct(updateProductInput: $updateProductInput){\n            id\n            name\n        }\n    }\n"]))),ge=Object(I.a)(i||(i=Object(v.a)(["\n    mutation RemoveProduct($id: Int!){\n        removeProduct(id: $id)\n    }\n"]))),fe=function(){var e=Object(ue.a)(he),t=Object(M.a)(e,2),n=t[0],c=t[1].loading,r=Object(m.g)(),a=function(){var e=Object(N.a)(w.a.mark((function e(t){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form: ",t),e.next=3,n({variables:{createProductInput:Object(k.a)({},t)}});case 3:c=e.sent,console.log(c),c.data&&!c.errors?r(".."):console.log("error:",c.errors);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(Oe.a,{name:"createProduct",onFinish:a,children:[Object(h.jsx)(Oe.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input product name"}],children:Object(h.jsx)(me.a,{placeholder:"Product name"})}),Object(h.jsx)(Oe.a.Item,{children:Object(h.jsx)(xe.a,{type:"primary",htmlType:"submit",loading:c,children:"Create"})})]})},ve=Object(I.a)(j||(j=Object(v.a)(["\n    query GetProducts($getProductsInput: GetProductsInput!){\n        getProducts(getProductsInput: $getProductsInput){\n            id\n            name\n        }\n    }\n"]))),Ie=Object(I.a)(o||(o=Object(v.a)(["\n    query GetProduct($id: Int!){\n        getProduct(id: $id){\n            id\n            name\n        }\n    }\n"]))),_e=n(157),Pe=n.n(_e),ye=function(){var e=Object(f.a)(ve,{variables:{getProductsInput:{skip:0,take:10}}}),t=e.loading,n=e.error,c=e.data,r=Object(d.useState)(!1),a=Object(M.a)(r,2),s=(a[0],a[1],Object(d.useState)(null)),i=Object(M.a)(s,2);i[0],i[1];return t?Object(h.jsx)(E,{}):(n&&console.log(n),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x.b,{to:"create",children:Object(h.jsx)(xe.a,{children:"Create"})}),Object(h.jsx)("ul",{children:null===c||void 0===c?void 0:c.getProducts.map((function(e){return Object(h.jsxs)("li",{className:Pe.a.product,children:[Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:e.name})}),Object(h.jsxs)("div",{children:[Object(h.jsx)(x.b,{to:"../".concat(e.id),children:Object(h.jsx)(xe.a,{type:"default",children:"View"})}),Object(h.jsx)(x.b,{to:"update/".concat(e.id),children:Object(h.jsx)(xe.a,{type:"ghost",children:"Update"})}),Object(h.jsx)(x.b,{to:"remove/".concat(e.id),children:Object(h.jsx)(xe.a,{type:"primary",children:"Remove"})})]})]},e.id)}))})]}))},we=n(125),Ne=n.n(we),ke=function(){var e=Object(m.h)(),t=Object(f.a)(Ie,{variables:{id:e.id?parseInt(e.id):0}}),n=t.loading,c=t.error,r=t.data,a=Object(ue.a)(pe),s=Object(M.a)(a,1)[0],i=Object(m.g)();if(!e.id)return Object(h.jsx)(m.a,{to:"../../error"});if(n)return Object(h.jsx)(E,{});c&&console.log(c);var j=function(){var e=Object(N.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form: ",t),e.next=3,s({variables:{updateProductInput:Object(k.a)({},t)}});case 3:n=e.sent,console.log(n),n.data&&!n.errors?i(".."):console.log("error:",n.errors);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(Oe.a,{name:"createProduct",onFinish:j,initialValues:{id:null===r||void 0===r?void 0:r.getProduct.id,name:null===r||void 0===r?void 0:r.getProduct.name},children:[Object(h.jsx)(Oe.a.Item,{name:"id",className:Ne.a.inputId,children:Object(h.jsx)(me.a,{type:"hidden",className:Ne.a.inputId})}),Object(h.jsx)(Oe.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input product name"}],children:Object(h.jsx)(me.a,{placeholder:"Product name"})}),Object(h.jsx)(Oe.a.Item,{children:Object(h.jsx)(xe.a,{type:"primary",htmlType:"submit",children:"Update"})})]})},Ue=function(){var e=Object(m.h)(),t=Object(f.a)(Ie,{variables:{id:e.id?parseInt(e.id):0}}),n=t.loading,c=t.error,r=t.data;return e.id?n?Object(h.jsx)(E,{}):(c&&console.log(c),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{children:["id: ",null===r||void 0===r?void 0:r.getProduct.id]}),Object(h.jsxs)("div",{children:["name: ",null===r||void 0===r?void 0:r.getProduct.name]})]})):Object(h.jsx)(m.a,{to:"../../error"})},Le=function(){var e=Object(m.h)(),t=Object(ue.a)(ge),n=Object(M.a)(t,2),c=n[0],r=n[1].loading,a=Object(m.g)();if(!e||!e.id)return Object(h.jsx)(m.a,{to:"../../error"});var s=function(){var t=Object(N.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c({variables:{id:parseInt(e.id)}});case 2:(n=t.sent).data?a(".."):console.log(n.errors);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Ue,{}),Object(h.jsx)(xe.a,{onClick:s,loading:r,children:"Remove"})]})},Se=function(){return Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/",element:Object(h.jsx)(ye,{})}),Object(h.jsx)(m.b,{path:":id",element:Object(h.jsx)(Ue,{})}),Object(h.jsx)(m.b,{path:"create",element:Object(h.jsx)(fe,{})}),Object(h.jsx)(m.b,{path:"update/:id",element:Object(h.jsx)(ke,{})}),Object(h.jsx)(m.b,{path:"remove/:id",element:Object(h.jsx)(Le,{})}),Object(h.jsx)(m.b,{path:"*",element:Object(h.jsx)(oe,{})})]})},Ae=function(){return Object(h.jsx)("div",{children:"Categories"})},Ce=function(){return Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/",element:Object(h.jsx)(Ae,{})}),Object(h.jsx)(m.b,{path:"*",element:Object(h.jsx)(oe,{})})]})},Fe=H.a.Content,Ee=function(){return console.log("AppLayout"),Object(P.c)($)?Object(h.jsxs)(H.a,{style:{minHeight:"100vh"},children:[Object(h.jsx)(K,{}),Object(h.jsxs)(H.a,{className:"site-layout",children:[Object(h.jsx)(ce,{}),Object(h.jsxs)(Fe,{style:{margin:"0 16px"},children:[Object(h.jsx)(ae,{}),Object(h.jsx)("div",{className:be.a.siteLayoutBackground,children:Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/",element:Object(h.jsx)(se,{})}),Object(h.jsx)(m.b,{path:"products/*",element:Object(h.jsx)(Se,{})}),Object(h.jsx)(m.b,{path:"categories/*",element:Object(h.jsx)(Ce,{})}),Object(h.jsx)(m.b,{path:"users/*",element:Object(h.jsx)(le,{})}),Object(h.jsx)(m.b,{path:"*",element:Object(h.jsx)(oe,{})})]})})]})]})]}):Object(h.jsx)(m.a,{to:"/admin/login"})},Te=n(62),$e=n.n(Te),He=n(273),Me=n(282),qe=Object(I.a)(l||(l=Object(v.a)(["\n    mutation Login($loginInput: LoginInput!){\n        login(loginInput: $loginInput){\n            accessToken\n            user{\n                id\n                email\n                firstName\n                lastName\n                roles{\n                    id\n                    name\n                }\n            }\n        }\n    }\n"]))),Re=function(){var e=Object(P.b)(),t=Object(P.c)($),n=Object(ue.a)(qe),c=Object(M.a)(n,2),r=c[0],a=c[1],s=(a.data,a.loading,a.error);if(t)return Object(h.jsx)(m.a,{to:"/admin"});var i=function(){var t=Object(N.a)(w.a.mark((function t(n){var c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Received values of form: ",n),t.next=3,r({variables:{loginInput:{email:n.email,password:n.password}}});case 3:c=t.sent,console.log(c),c.data&&!c.errors?(localStorage.setItem("token",c.data.login.accessToken),e(L(c.data.login,!0))):console.log("error:",s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)(Oe.a,{name:"normal_login",className:$e.a.loginForm,initialValues:{remember:!0},onFinish:i,children:[Object(h.jsx)("h2",{className:$e.a.title,children:"Admin Panel"}),Object(h.jsx)(Oe.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:Object(h.jsx)(me.a,{prefix:Object(h.jsx)(X.a,{className:"site-form-item-icon"}),placeholder:"Email",type:"email"})}),Object(h.jsx)(Oe.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(h.jsx)(me.a,{prefix:Object(h.jsx)(Me.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(h.jsxs)(Oe.a.Item,{children:[Object(h.jsx)(Oe.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,className:$e.a.rememberMe,children:Object(h.jsx)(He.a,{children:Object(h.jsx)("span",{className:$e.a.white,children:"Remember me"})})}),Object(h.jsx)(x.b,{className:$e.a.forgotPass,to:"",children:"Forgot password"})]}),Object(h.jsxs)(Oe.a.Item,{children:[Object(h.jsx)(xe.a,{type:"primary",htmlType:"submit",className:["login-form-button",$e.a.submit].join(" "),children:"Log in"}),Object(h.jsx)("span",{className:$e.a.white,children:"Or "}),Object(h.jsx)(x.b,{to:"/admin-area/register",children:"register now!"})]})]})},Be=function(){var e=Object(P.b)(),t=Object(f.a)(_),n=t.data,c=t.error,r=t.loading;return Object(d.useEffect)((function(){n&&!c&&e(L(n.me,!0))}),[n,c]),r?Object(h.jsx)(E,{}):Object(h.jsxs)(m.d,{children:[Object(h.jsx)(m.b,{path:"/",element:Object(h.jsx)(p,{})}),Object(h.jsx)(m.b,{path:"admin/*",element:Object(h.jsx)(Ee,{})}),Object(h.jsx)(m.b,{path:"admin/login",element:Object(h.jsx)(Re,{})})]})},De=n(86),Ge=n(158),Ve=Object(De.b)({auth:S}),Xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||De.c,ze=Object(De.d)(Ve,Xe(Object(De.a)(Ge.a)));window.__store__=ze;var Je=ze,Qe=n(267),Ze=n(270),Ke=n(265),Ye=new Qe.a({uri:"/graphql",credentials:"include",cache:new Ze.a,headers:{authorization:localStorage.getItem("token")?"Bearer ".concat(localStorage.getItem("token")):""},defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}});O.a.render(Object(h.jsx)(b.a.StrictMode,{children:Object(h.jsx)(P.a,{store:Je,children:Object(h.jsx)(x.a,{children:Object(h.jsx)(Ke.a,{client:Ye,children:Object(h.jsx)(Be,{})})})})}),document.getElementById("root"))},62:function(e,t,n){e.exports={loginForm:"Login_loginForm__1TaLU",title:"Login_title__1yFpQ",white:"Login_white__1Hmsg",rememberMe:"Login_rememberMe__2NYZe",forgotPass:"Login_forgotPass__3PeBp",submit:"Login_submit__2M9pX"}}},[[254,1,2]]]);
//# sourceMappingURL=main.a8f2479b.chunk.js.map